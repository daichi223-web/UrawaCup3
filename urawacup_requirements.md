# 浦和カップ トーナメント管理システム 要件定義書（統合版）

**Version 4.0**
**2026年1月5日**

---

## 目次

1. [システム概要](#1-システム概要)
2. [大会概要](#2-大会概要)
3. [機能要件](#3-機能要件)
4. [画面設計](#4-画面設計)
5. [データモデル](#5-データモデル)
6. [API設計](#6-api設計)
7. [非機能要件](#7-非機能要件)
8. [実装フェーズ](#8-実装フェーズ)
9. [付録](#9-付録)

---

## 1. システム概要

### 1.1 目的

浦和カップ高校サッカーフェスティバルの運営を効率化するためのWebアプリケーション。試合日程の自動生成、リアルタイムの結果入力、順位表の自動計算、報告書の自動生成を行う。

**現状のExcel運用における課題を解決する：**

- **参加チームの登録作業**: 関数でリーグ表・報告書に反映させる際の確認作業が煩雑
- **書式調整**: 年度ごとにフォーマットが微妙に変わり、毎回Excelの調整が必要
- **試合結果入力の即時性**: LINEで報告→担当者が一括入力という流れで、リアルタイム性に欠ける
- **報告書作成**: 逐次報告される結果を即座に報告書へ反映する必要があり負荷が高い
- **最終日組み合わせ**: 対戦履歴を考慮した組み合わせを手作業で作成

### 1.2 対象ユーザー

| ユーザー種別 | 人数 | 主な操作 |
|-------------|------|---------|
| 大会運営者（管理者） | 2-3名 | 全機能 |
| 会場担当者 | 4名 | 担当会場の結果入力 |
| 閲覧者（一般公開） | 不特定 | 順位表・結果閲覧 |

### 1.3 技術スタック

| レイヤー | 技術 | バージョン |
|---------|------|-----------|
| フロントエンド | React + TypeScript + Vite | 18.x / 5.x |
| スタイリング | TailwindCSS | 3.x |
| 状態管理 | Zustand + TanStack Query | 4.x / 5.x |
| バックエンド | FastAPI + SQLAlchemy | 0.100+ / 2.x |
| データベース | SQLite | 3.x |
| PDF生成 | ReportLab | - |
| テスト | pytest + Playwright | - |

---

## 2. 大会概要

### 2.1 大会基本情報

| 項目 | 内容 |
|-----|------|
| 大会名 | さいたま市招待高校サッカーフェスティバル浦和カップ |
| 開催期間 | 3日間（3月下旬） |
| 参加チーム数 | 24チーム固定 |
| グループ数 | 4グループ（A, B, C, D）× 6チーム |
| 試合時間 | 50分（25分ハーフ） |
| 会場数 | 5会場（予選4会場 + 決勝T用1会場） |

### 2.2 チーム構成

**地元チーム（9チーム固定）**

- **会場担当校（4校）**: 浦和南、市立浦和、浦和学院、武南
- **その他地元校（5校）**: 県立浦和、浦和西、浦和東、浦和レッズユース、大宮アルディージャU18

**招待チーム（15チーム）**

毎年変動。全国各地の高校・ユースチームを招待。

### 2.3 会場担当校（固定配置）

| グループ | 1番チーム | 会場 |
|---------|----------|------|
| A | 浦和南高校 | 浦和南高G |
| B | 市立浦和高校 | 市立浦和高G |
| C | 浦和学院高校 | 浦和学院G |
| D | 武南高校 | 武南高G |

### 2.4 大会スケジュール

| 日程 | 内容 | 会場 | 試合数 |
|-----|------|------|-------|
| Day1 | 予選リーグ（前半） | 4会場同時開催 | 各会場6試合 |
| Day2 | 予選リーグ（後半） | 4会場同時開催 | 各会場6試合 |
| Day3 | 順位決定戦（1位リーグ） | 駒場スタジアム | 4試合 |
| Day3 | 研修試合（2〜6位） | 4会場 | 各会場5-6試合 |

### 2.5 順位決定ルール

以下の優先順位で順位を決定する：

1. 勝点（勝利=3点、引分=1点、敗北=0点）
2. 得失点差（ゴールディファレンス）
3. 総得点
4. 当該チーム間の対戦成績（直接対決）
5. 抽選（ランダム）

### 2.6 決勝トーナメント組み合わせ

**1位リーグ（準決勝〜決勝）**

- 各グループ1位の4チームが進出
- 準決勝1: A1位 vs C1位
- 準決勝2: B1位 vs D1位
- 3位決定戦・決勝戦はPK戦あり（50分で決しない場合）

**研修試合（2〜6位）**

- 基本ルール: 同順位同士の対戦
- 必須条件: 予選リーグで対戦していないチーム同士
- 手動での変更可能

---

## 3. 機能要件

### 3.1 大会管理機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-01 | 大会作成・編集 | 新規大会の登録、設定の編集 | 高 |
| F-02 | 大会設定 | 試合時間、インターバル等の設定 | 高 |
| F-03 | グループ自動作成 | 4グループ（A,B,C,D）の自動作成 | 高 |
| F-04 | 送信元情報設定 | 担当者名、連絡先の設定 | 高 |

### 3.2 チーム管理機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-10 | チーム登録・編集・削除 | チーム情報のCRUD操作 | 高 |
| F-11 | グループ割当 | チームをグループに割り当て | 高 |
| F-12 | CSVインポート | チーム一括登録 | 中 |
| F-13 | チーム区分設定 | 地元/招待の区分設定 | 高 |
| F-14 | 会場担当校フラグ | 会場担当校の設定 | 高 |

### 3.3 選手管理機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-20 | 選手登録・編集・削除 | 選手情報のCRUD操作 | 高 |
| F-21 | Excel/CSVインポート | 選手一括登録 | 高 |
| F-22 | 参加申込書インポート | 参加申込書形式（2列構成） | 中 |
| F-23 | 得点者サジェスト | 結果入力時の選手名候補表示 | 高 |
| F-24 | 選手検索 | 名前、背番号での検索 | 中 |

### 3.4 スタッフ管理機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-30 | スタッフ登録 | 監督、コーチ、マネージャー等 | 高 |
| F-31 | 役割設定 | 監督/コーチ/帯同審判の区分 | 高 |

### 3.5 会場管理機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-40 | 会場登録・編集・削除 | 会場情報のCRUD操作 | 高 |
| F-41 | グループ紐付け | 担当グループの設定 | 高 |
| F-42 | 試合数上限設定 | 1日あたりの試合数上限 | 中 |

### 3.6 日程管理機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-50 | 対戦除外設定 | 変則リーグの除外ペア設定 | 高 |
| F-51 | 予選日程自動生成 | 48試合の自動生成 | 高 |
| F-52 | 決勝トーナメント生成 | 準決勝〜決勝の自動生成 | 高 |
| F-53 | 研修試合生成 | 2〜6位チームの試合生成 | 中 |
| F-54 | 日程手動調整 | 試合時間・会場の変更 | 中 |
| F-55 | 組み合わせ変更 | ドロップダウン/入れ替えボタン | 中 |

### 3.7 試合結果入力機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-60 | スコア入力 | 前半/後半/合計のスコア入力 | 最高 |
| F-61 | PK戦スコア入力 | PK戦のスコア入力 | 高 |
| F-62 | 得点者入力 | 得点者名・時間（サジェスト付き） | 中 |
| F-63 | 入力ロック機能 | 同時編集防止 | 高 |
| F-64 | 結果承認フロー | 管理者による結果承認 | 中 |

### 3.8 順位表・統計機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-70 | 順位表自動計算 | 試合結果から自動計算 | 最高 |
| F-71 | グループ別順位表 | グループ別の順位表表示 | 高 |
| F-72 | 得点ランキング | 得点者ランキング表示 | 中 |
| F-73 | 統計ダッシュボード | 試合数、得点数等の統計 | 低 |

### 3.9 レポート出力機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-80 | 日次報告書PDF | 日別・会場別試合結果 | 最高 |
| F-81 | グループ順位表PDF | グループ別順位表 | 高 |
| F-82 | 最終日組み合わせ表PDF | 研修試合・決勝Tの組み合わせ | 高 |
| F-83 | 最終結果報告書PDF | 決勝T結果、最終順位、優秀選手 | 高 |
| F-84 | Excel出力 | データのExcel出力 | 中 |

### 3.10 公開機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-90 | 公開順位表 | 認証不要の順位表閲覧 | 高 |
| F-91 | 公開試合一覧 | 認証不要の試合結果閲覧 | 高 |
| F-92 | リアルタイム更新 | WebSocketによる自動更新 | 中 |

### 3.11 オフライン・PWA機能

| ID | 機能 | 説明 | 優先度 |
|----|------|------|-------|
| F-100 | オフライン入力対応 | ネット未接続時も入力可能 | 中 |
| F-101 | IndexedDBローカル保存 | ローカルストレージへの保存 | 中 |
| F-102 | 競合解決UI | 同時編集時の競合解決 | 中 |
| F-103 | オンライン復帰時同期 | 自動同期処理 | 中 |

---

## 4. 画面設計

### 4.1 管理者向け画面

| ID | 画面名 | URL | 説明 |
|----|-------|-----|------|
| S-01 | ログイン | /login | 認証画面 |
| S-02 | ダッシュボード | / | 統計サマリー |
| S-03 | チーム管理 | /teams | チーム一覧・編集 |
| S-04 | 選手管理 | /players | 選手一覧・編集 |
| S-05 | 日程管理 | /schedule | 日程生成・編集 |
| S-06 | 結果入力 | /results | スコア入力 |
| S-07 | 結果承認 | /approval | 結果承認 |
| S-08 | 順位表 | /standings | 順位表表示 |
| S-09 | 得点ランキング | /scorers | 得点者ランキング |
| S-10 | 対戦除外設定 | /exclusions | 除外ペア設定 |
| S-11 | レポート | /reports | PDF/Excel出力 |
| S-12 | 設定 | /settings | システム設定 |
| S-13 | 最終日組み合わせ | /final-day | 最終日日程編集 |

### 4.2 公開画面（認証不要）

| ID | 画面名 | URL | 説明 |
|----|-------|-----|------|
| P-01 | 公開順位表 | /public/standings | 一般公開用順位表 |
| P-02 | 公開試合一覧 | /public/matches | 一般公開用試合結果 |

### 4.3 日程表示画面（予選リーグ）

日付タブ + 4会場横並び形式で表示。各会場カードには試合一覧を表示し、以下の項目が編集可能：

- **キックオフ時間**: ドロップダウン（5分刻み）
- **対戦チーム**: ドロップダウン / 入れ替えボタンで選択
- **審判**: ドロップダウン（派遣/当該/チーム名）
- **試合の追加・削除**

### 4.4 最終日組み合わせ画面

**画面構成**

- 上部: 順位リーグ（4会場横並び）
- 下部: 決勝トーナメント（駒場スタジアム）

**チーム選択方法**

- 方法1: ドロップダウンで直接選択（シード/全チームから検索）
- 方法2: 入れ替えボタンで2チーム選択して入れ替え

**入れ替えモードの操作フロー**

1. [入れ替え] ボタンをクリック → 入れ替えモードON
2. 1つ目のチームをクリック → 青枠で選択状態
3. 2つ目のチームをクリック → 入れ替え実行
4. 入れ替え完了 → トースト通知、モードOFF

**キャンセル方法**

- [キャンセル] ボタンをクリック
- ESCキーを押す
- 選択中のチームをもう一度クリック

### 4.5 画面ワイヤーフレーム

#### 4.5.1 ダッシュボード（S-02）

```
┌────────────────────────────────────────────────────────────────┐
│  🏆 浦和カップ管理システム          [ユーザー名] [ログアウト]    │
├────────────────────────────────────────────────────────────────┤
│ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────┐│
│ │  試合数      │ │  完了試合    │ │  入力待ち    │ │ 承認待ち ││
│ │    72       │ │     48      │ │     12      │ │    4    ││
│ └──────────────┘ └──────────────┘ └──────────────┘ └──────────┘│
├────────────────────────────────────────────────────────────────┤
│  📅 本日の試合                                                  │
│ ┌──────────────────────────────────────────────────────────┐  │
│ │ 10:00 浦和南G │ 浦和南 2-1 ○○高校  [完了]              │  │
│ │ 11:00 浦和南G │ △△高校 vs □□高校 [入力待ち]          │  │
│ │ ...                                                      │  │
│ └──────────────────────────────────────────────────────────┘  │
├────────────────────────────────────────────────────────────────┤
│  📊 グループ順位速報                                            │
│ ┌─────────────┐┌─────────────┐┌─────────────┐┌─────────────┐  │
│ │ Aグループ   ││ Bグループ   ││ Cグループ   ││ Dグループ   │  │
│ │ 1. 浦和南   ││ 1. 市立浦和 ││ 1. 浦和学院 ││ 1. 武南     │  │
│ │ 2. ...      ││ 2. ...      ││ 2. ...      ││ 2. ...      │  │
│ └─────────────┘└─────────────┘└─────────────┘└─────────────┘  │
└────────────────────────────────────────────────────────────────┘
```

#### 4.5.2 結果入力画面（S-06）

```
┌────────────────────────────────────────────────────────────────┐
│  試合結果入力                                    [🔒 編集中]    │
├────────────────────────────────────────────────────────────────┤
│  試合情報                                                       │
│  ┌────────────────────────────────────────────────────────┐   │
│  │ 日時: 2026/03/25 10:00  会場: 浦和南高G                │   │
│  │ ステージ: 予選リーグ Aグループ                          │   │
│  └────────────────────────────────────────────────────────┘   │
│                                                                │
│  ┌──────────────────┐     vs     ┌──────────────────┐        │
│  │     浦和南高校    │            │    ○○高校       │        │
│  │    (ホーム)       │            │   (アウェイ)     │        │
│  └──────────────────┘            └──────────────────┘        │
│                                                                │
│  スコア入力                                                     │
│  ┌─────────────┬─────────────┬─────────────┐                 │
│  │             │   ホーム    │  アウェイ   │                 │
│  ├─────────────┼─────────────┼─────────────┤                 │
│  │ 前半        │   [ 1 ]     │   [ 0 ]     │                 │
│  │ 後半        │   [ 1 ]     │   [ 1 ]     │                 │
│  ├─────────────┼─────────────┼─────────────┤                 │
│  │ 合計        │     2       │     1       │                 │
│  └─────────────┴─────────────┴─────────────┘                 │
│                                                                │
│  得点者（任意）                                                 │
│  ┌────────────────────────────────────────────────────────┐   │
│  │ + 得点者を追加                                          │   │
│  │ ┌──────────────────────────────────────────────────┐   │   │
│  │ │ 15分 前半 │ 山田太郎（浦和南）▼ │ [×]            │   │   │
│  │ └──────────────────────────────────────────────────┘   │   │
│  └────────────────────────────────────────────────────────┘   │
│                                                                │
│            [キャンセル]              [保存]                    │
└────────────────────────────────────────────────────────────────┘
```

#### 4.5.3 順位表画面（S-08）

```
┌────────────────────────────────────────────────────────────────┐
│  順位表                              [PDF出力] [Excel出力]      │
├────────────────────────────────────────────────────────────────┤
│  [Aグループ] [Bグループ] [Cグループ] [Dグループ] [全体]        │
├────────────────────────────────────────────────────────────────┤
│  Aグループ順位表                                                │
│ ┌────┬──────────────┬────┬────┬────┬────┬────┬────┬────┬────┐│
│ │順位│   チーム     │試合│勝  │分  │負  │得点│失点│得失│勝点││
│ ├────┼──────────────┼────┼────┼────┼────┼────┼────┼────┼────┤│
│ │ 1  │ 浦和南高校   │  5 │  4 │  1 │  0 │ 12 │  3 │ +9 │ 13 ││
│ │ 2  │ ○○高校     │  5 │  3 │  1 │  1 │  8 │  4 │ +4 │ 10 ││
│ │ 3  │ △△高校     │  5 │  2 │  2 │  1 │  6 │  5 │ +1 │  8 ││
│ │ 4  │ □□高校     │  5 │  1 │  2 │  2 │  5 │  6 │ -1 │  5 ││
│ │ 5  │ ◇◇高校     │  5 │  1 │  0 │  4 │  3 │  9 │ -6 │  3 ││
│ │ 6  │ ☆☆高校     │  5 │  0 │  0 │  5 │  2 │ 10 │ -8 │  0 ││
│ └────┴──────────────┴────┴────┴────┴────┴────┴────┴────┴────┘│
│                                                                │
│  対戦結果マトリクス                                             │
│ ┌──────────┬────┬────┬────┬────┬────┬────┐                   │
│ │          │浦和南│○○ │△△ │□□ │◇◇ │☆☆ │                   │
│ ├──────────┼────┼────┼────┼────┼────┼────┤                   │
│ │ 浦和南   │ -  │2-1 │3-0 │1-1 │2-0 │4-1 │                   │
│ │ ○○     │    │ -  │2-2 │3-1 │1-0 │2-0 │                   │
│ │ ...      │    │    │    │    │    │    │                   │
│ └──────────┴────┴────┴────┴────┴────┴────┘                   │
└────────────────────────────────────────────────────────────────┘
```

#### 4.5.4 チーム管理画面（S-03）

```
┌────────────────────────────────────────────────────────────────┐
│  チーム管理                          [CSVインポート] [+新規登録]│
├────────────────────────────────────────────────────────────────┤
│  フィルタ: [グループ▼] [チーム種別▼]   検索: [________]       │
├────────────────────────────────────────────────────────────────┤
│ ┌────┬─────────────┬────────┬──────────┬──────┬────────────┐  │
│ │ G  │  チーム名   │ 略称   │ 都道府県 │ 種別 │  操作      │  │
│ ├────┼─────────────┼────────┼──────────┼──────┼────────────┤  │
│ │ A  │ 浦和南高校  │ 浦和南 │ 埼玉県   │地元🏠│[編集][削除]│  │
│ │ A  │ ○○高校    │ ○○   │ 東京都   │招待  │[編集][削除]│  │
│ │ B  │ 市立浦和高校│ 市浦和 │ 埼玉県   │地元🏠│[編集][削除]│  │
│ │ ...│             │        │          │      │            │  │
│ └────┴─────────────┴────────┴──────────┴──────┴────────────┘  │
│                                                                │
│  🏠 = 会場担当校                                               │
│                                        [1] [2] [3] ... [次へ]   │
└────────────────────────────────────────────────────────────────┘
```

#### 4.5.5 最終日組み合わせ画面（S-13）

```
┌────────────────────────────────────────────────────────────────┐
│  最終日組み合わせ        [自動生成] [入れ替えモード] [保存]     │
├────────────────────────────────────────────────────────────────┤
│  ■ 順位リーグ（研修試合）                                       │
│ ┌─────────────┐┌─────────────┐┌─────────────┐┌─────────────┐  │
│ │ 浦和南高G   ││ 市立浦和高G ││ 浦和学院G   ││ 武南高G     │  │
│ │─────────────││─────────────││─────────────││─────────────│  │
│ │2位リーグ    ││3位リーグ    ││4位リーグ    ││5位リーグ    │  │
│ │ 9:00 A2-C2  ││ 9:00 A3-C3  ││ 9:00 A4-C4  ││ 9:00 A5-C5  │  │
│ │10:00 B2-D2  ││10:00 B3-D3  ││10:00 A4-D4  ││10:00 B5-D5  │  │
│ │11:00 A2-B2  ││11:00 A3-B3  ││11:00 B4-C4  ││11:00 A5-B5  │  │
│ │...          ││...          ││...          ││...          │  │
│ └─────────────┘└─────────────┘└─────────────┘└─────────────┘  │
│                                                                │
│  ■ 決勝トーナメント（駒場スタジアム）                           │
│ ┌──────────────────────────────────────────────────────────┐  │
│ │                      【決勝】15:00                        │  │
│ │                    ┌─────────┐                            │  │
│ │                    │         │                            │  │
│ │          ┌─────────┴─────────┴─────────┐                  │  │
│ │      【準決勝1】          【準決勝2】                      │  │
│ │        10:00               11:30                          │  │
│ │     ┌────┴────┐         ┌────┴────┐                      │  │
│ │   [A1位▼]  [C1位▼]   [B1位▼]  [D1位▼]                    │  │
│ │                                                            │  │
│ │                    【3位決定戦】13:30                      │  │
│ └──────────────────────────────────────────────────────────┘  │
│                                                                │
│  ⚠ 警告: A2 と B3 は予選で対戦済みです                        │
└────────────────────────────────────────────────────────────────┘
```

#### 4.5.6 公開順位表画面（P-01）

```
┌────────────────────────────────────────────────────────────────┐
│  🏆 浦和カップ 2026  順位表                                     │
│  さいたま市招待高校サッカーフェスティバル                        │
├────────────────────────────────────────────────────────────────┤
│  [A] [B] [C] [D]                         最終更新: 15:30       │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  Aグループ                                                      │
│ ┌────┬─────────────────┬────┬────┬────┬────┬─────┬────────┐   │
│ │順位│    チーム       │試合│ 勝 │ 分 │ 負 │得失点│  勝点  │   │
│ ├────┼─────────────────┼────┼────┼────┼────┼─────┼────────┤   │
│ │ 1  │ 🏠 浦和南高校   │  5 │  4 │  1 │  0 │  +9 │   13   │   │
│ │ 2  │    ○○高校     │  5 │  3 │  1 │  1 │  +4 │   10   │   │
│ │ 3  │    △△高校     │  5 │  2 │  2 │  1 │  +1 │    8   │   │
│ │ ...│                 │    │    │    │    │     │        │   │
│ └────┴─────────────────┴────┴────┴────┴────┴─────┴────────┘   │
│                                                                │
│  📅 次の試合                                                    │
│  ┌──────────────────────────────────────────────────────┐     │
│  │ 16:00 浦和南高G │ 浦和南 vs ○○高校               │     │
│  └──────────────────────────────────────────────────────┘     │
│                                                                │
│  🏠 = 会場担当校                                               │
└────────────────────────────────────────────────────────────────┘
```

### 4.6 モバイル対応

#### 4.6.1 モバイル版レイアウト原則

| 画面幅 | レイアウト |
|-------|----------|
| < 640px | 1カラム、縦スクロール |
| 640px - 1024px | 2カラム |
| > 1024px | 4カラム（フルレイアウト） |

#### 4.6.2 モバイル優先機能

1. **結果入力**: タップで数字入力、大きなボタン
2. **順位表**: 横スクロール対応、固定列（チーム名）
3. **試合一覧**: カード形式、スワイプナビゲーション

#### 4.6.3 タッチ操作対応

- 最小タップターゲット: 44px × 44px
- スワイプ: 試合カード切り替え、タブ切り替え
- 長押し: コンテキストメニュー表示

### 4.7 アクセシビリティ

| 項目 | 対応 |
|-----|------|
| キーボード操作 | 全機能対応 |
| スクリーンリーダー | ARIA ラベル対応 |
| コントラスト比 | WCAG 2.1 AA準拠（4.5:1以上） |
| フォーカス表示 | 視認性の高いアウトライン |

---

## 5. データモデル

### 5.1 主要テーブル一覧

| テーブル | 説明 | レコード目安 |
|---------|------|-------------|
| tournaments | 大会情報 | 1件/年 |
| groups | グループ（A〜D） | 4件/大会 |
| teams | チーム | 24件/大会 |
| players | 選手 | 600-1200件/大会 |
| staff | スタッフ | 48-100件/大会 |
| team_uniforms | ユニフォーム | 96件/大会 |
| venues | 会場 | 4-5件/大会 |
| matches | 試合 | 72件/大会 |
| goals | 得点 | 200件/大会 |
| standings | 順位表 | 24件/大会 |
| exclusion_pairs | 対戦除外ペア | 12件/大会 |
| tournament_awards | 表彰情報 | 4-8件/大会 |
| report_recipients | 報告書送信先 | 4件/大会 |
| users | ユーザー | 5-10件 |

### 5.2 エンティティ関連

- Tournament 1:N Group, Team, Venue, Match, Standing, ExclusionPair, TournamentAward, ReportRecipient
- Group 1:N Team, Match (groupId)
- Team 1:N Player, Staff, TeamUniform, Match (home/away), Goal
- Match 1:N Goal, Match N:1 Venue, Match N:1 User (lockedBy, enteredBy, approvedBy)
- Player 1:N Goal (nullable), Player 1:N TournamentAward

### 5.3 tournaments（大会）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| name | VARCHAR(200) | 大会名 |
| edition | INTEGER | 開催回数（第○回） |
| year | INTEGER | 開催年度 |
| start_date | DATE | 開始日 |
| end_date | DATE | 終了日 |
| match_duration | INTEGER | 試合時間（分）デフォルト50 |
| half_duration | INTEGER | ハーフタイム（分）デフォルト25 |
| interval_minutes | INTEGER | 試合間隔（分）デフォルト15 |
| sender_organization | VARCHAR(100) | 発信元組織 |
| sender_name | VARCHAR(50) | 発信者名 |
| sender_contact | VARCHAR(50) | 連絡先 |

### 5.4 matches（試合）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| tournament_id | INTEGER | 大会ID（FK） |
| group_id | VARCHAR(1) | グループID |
| venue_id | INTEGER | 会場ID（FK） |
| home_team_id | INTEGER | ホームチームID（FK） |
| away_team_id | INTEGER | アウェイチームID（FK） |
| match_date | DATE | 試合日 |
| match_time | TIME | キックオフ時刻 |
| stage | ENUM | 試合ステージ |
| status | ENUM | ステータス |
| home_score_half1 | INTEGER | ホーム前半得点 |
| home_score_half2 | INTEGER | ホーム後半得点 |
| home_score_total | INTEGER | ホーム合計得点 |
| away_score_half1 | INTEGER | アウェイ前半得点 |
| away_score_half2 | INTEGER | アウェイ後半得点 |
| away_score_total | INTEGER | アウェイ合計得点 |
| home_pk | INTEGER | ホームPK得点 |
| away_pk | INTEGER | アウェイPK得点 |
| has_penalty_shootout | BOOLEAN | PK戦実施フラグ |

### 5.5 groups（グループ）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | VARCHAR(1) | 主キー（A, B, C, D） |
| tournament_id | INTEGER | 大会ID（FK） |
| name | VARCHAR(50) | グループ名 |
| venue_id | INTEGER | 担当会場ID（FK） |

### 5.6 teams（チーム）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| tournament_id | INTEGER | 大会ID（FK） |
| group_id | VARCHAR(1) | グループID（FK） |
| name | VARCHAR(100) | チーム名 |
| short_name | VARCHAR(20) | 略称 |
| prefecture | VARCHAR(20) | 都道府県 |
| team_type | ENUM | チーム区分（local/invited） |
| is_host | BOOLEAN | 会場担当校フラグ |
| group_order | INTEGER | グループ内順番（1-6） |
| created_at | DATETIME | 作成日時 |
| updated_at | DATETIME | 更新日時 |

### 5.7 players（選手）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| team_id | INTEGER | チームID（FK） |
| number | INTEGER | 背番号 |
| name | VARCHAR(50) | 選手名 |
| name_kana | VARCHAR(100) | 選手名（かな） |
| grade | INTEGER | 学年（1-3） |
| position | VARCHAR(10) | ポジション（GK/DF/MF/FW） |
| is_captain | BOOLEAN | キャプテンフラグ |
| created_at | DATETIME | 作成日時 |

### 5.8 staff（スタッフ）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| team_id | INTEGER | チームID（FK） |
| name | VARCHAR(50) | スタッフ名 |
| role | ENUM | 役割（manager/coach/accompanying_referee） |
| phone | VARCHAR(20) | 連絡先電話番号 |
| email | VARCHAR(100) | メールアドレス |

### 5.9 team_uniforms（ユニフォーム）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| team_id | INTEGER | チームID（FK） |
| uniform_type | ENUM | 種別（fp_main/fp_sub/gk_main/gk_sub） |
| shirt_color | VARCHAR(30) | シャツ色 |
| pants_color | VARCHAR(30) | パンツ色 |
| socks_color | VARCHAR(30) | ソックス色 |

### 5.10 venues（会場）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| tournament_id | INTEGER | 大会ID（FK） |
| name | VARCHAR(100) | 会場名 |
| short_name | VARCHAR(20) | 略称 |
| address | VARCHAR(200) | 住所 |
| capacity | INTEGER | 収容人数 |
| has_night_lighting | BOOLEAN | ナイター設備有無 |
| max_matches_per_day | INTEGER | 1日最大試合数 |
| is_final_venue | BOOLEAN | 決勝会場フラグ |

### 5.11 goals（得点）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| match_id | INTEGER | 試合ID（FK） |
| team_id | INTEGER | 得点チームID（FK） |
| player_id | INTEGER | 得点者ID（FK、nullable） |
| scorer_name | VARCHAR(50) | 得点者名（手入力用） |
| minute | INTEGER | 得点時間（分） |
| half | INTEGER | 前半=1、後半=2 |
| is_own_goal | BOOLEAN | オウンゴールフラグ |
| is_penalty | BOOLEAN | PKフラグ |

### 5.12 standings（順位表）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| tournament_id | INTEGER | 大会ID（FK） |
| group_id | VARCHAR(1) | グループID |
| team_id | INTEGER | チームID（FK） |
| rank | INTEGER | 順位 |
| played | INTEGER | 試合数 |
| won | INTEGER | 勝利数 |
| drawn | INTEGER | 引分数 |
| lost | INTEGER | 敗北数 |
| goals_for | INTEGER | 総得点 |
| goals_against | INTEGER | 総失点 |
| goal_difference | INTEGER | 得失点差 |
| points | INTEGER | 勝点 |
| last_updated | DATETIME | 最終更新日時 |

### 5.13 exclusion_pairs（対戦除外ペア）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| tournament_id | INTEGER | 大会ID（FK） |
| group_id | VARCHAR(1) | グループID |
| team1_id | INTEGER | チーム1 ID（FK） |
| team2_id | INTEGER | チーム2 ID（FK） |
| reason | VARCHAR(200) | 除外理由 |

### 5.14 tournament_awards（表彰）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| tournament_id | INTEGER | 大会ID（FK） |
| award_type | ENUM | 表彰種別 |
| player_id | INTEGER | 選手ID（FK、nullable） |
| team_id | INTEGER | チームID（FK、nullable） |
| description | VARCHAR(200) | 説明 |

**AwardType（表彰種別）**

- mvp（最優秀選手）
- best_gk（優秀GK）
- top_scorer（得点王）
- fair_play（フェアプレー賞）

### 5.15 report_recipients（報告書送信先）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| tournament_id | INTEGER | 大会ID（FK） |
| organization | VARCHAR(100) | 組織名 |
| recipient_name | VARCHAR(50) | 宛名 |
| email | VARCHAR(100) | メールアドレス |
| send_daily | BOOLEAN | 日次報告送信フラグ |
| send_final | BOOLEAN | 最終報告送信フラグ |

### 5.16 users（ユーザー）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| username | VARCHAR(50) | ユーザー名（ユニーク） |
| password_hash | VARCHAR(255) | パスワードハッシュ |
| display_name | VARCHAR(50) | 表示名 |
| role | ENUM | 権限（admin/venue_staff/viewer） |
| venue_id | INTEGER | 担当会場ID（FK、nullable） |
| is_active | BOOLEAN | 有効フラグ |
| last_login | DATETIME | 最終ログイン日時 |
| created_at | DATETIME | 作成日時 |

### 5.17 match_locks（試合ロック）テーブル

| カラム | 型 | 説明 |
|-------|-----|------|
| id | INTEGER | 主キー |
| match_id | INTEGER | 試合ID（FK、ユニーク） |
| user_id | INTEGER | ロック取得ユーザーID（FK） |
| locked_at | DATETIME | ロック取得日時 |
| expires_at | DATETIME | ロック有効期限 |

### 5.18 Enum定義

**MatchStage（試合ステージ）**

- preliminary（予選リーグ）
- semifinal（準決勝）
- third_place（3位決定戦）
- final（決勝）
- training（研修試合）

**MatchStatus（試合ステータス）**

- scheduled（予定）
- in_progress（試合中）
- completed（完了）
- cancelled（中止）

**TeamType（チーム区分）**

- local（地元チーム）
- invited（招待チーム）

**UserRole（ユーザー権限）**

- admin（管理者）
- venue_staff（会場担当者）
- viewer（閲覧者）

---

## 6. API設計

### 6.1 認証 API

| メソッド | パス | 説明 |
|---------|------|------|
| POST | /api/auth/login | ログイン |
| POST | /api/auth/logout | ログアウト |
| GET | /api/auth/me | 現在のユーザー情報 |
| POST | /api/auth/refresh | トークンリフレッシュ |

### 6.2 大会 API

| メソッド | パス | 説明 |
|---------|------|------|
| GET | /api/tournaments | 一覧取得 |
| POST | /api/tournaments | 作成 |
| GET | /api/tournaments/{id} | 詳細取得 |
| PATCH | /api/tournaments/{id} | 更新 |
| DELETE | /api/tournaments/{id} | 削除 |

### 6.3 チーム API

| メソッド | パス | 説明 |
|---------|------|------|
| GET | /api/teams | 一覧取得 |
| POST | /api/teams | 作成 |
| GET | /api/teams/{id} | 詳細取得 |
| PATCH | /api/teams/{id} | 更新 |
| DELETE | /api/teams/{id} | 削除 |
| POST | /api/teams/import | CSVインポート |

### 6.4 試合 API

| メソッド | パス | 説明 |
|---------|------|------|
| GET | /api/matches | 一覧取得 |
| GET | /api/matches/{id} | 詳細取得 |
| PUT | /api/matches/{id}/score | スコア入力 |
| POST | /api/matches/{id}/lock | ロック取得 |
| DELETE | /api/matches/{id}/lock | ロック解除 |
| POST | /api/matches/generate-schedule/{id} | 予選日程生成 |
| POST | /api/matches/generate-finals/{id} | 決勝T生成 |
| POST | /api/matches/generate-training/{id} | 研修試合生成 |

### 6.5 最終日 API

| メソッド | パス | 説明 |
|---------|------|------|
| GET | /api/tournaments/{id}/final-day-schedule | 最終日日程取得 |
| POST | /api/tournaments/{id}/final-day-schedule/generate | 自動生成 |
| PUT | /api/tournaments/{id}/final-day-schedule | 一括保存 |
| POST | /api/final-day-matches/swap | チーム入れ替え |
| PATCH | /api/tournaments/{id}/final-day-venues/{venueId} | 会場担当更新 |

### 6.6 順位表 API

| メソッド | パス | 説明 |
|---------|------|------|
| GET | /api/standings | 順位表取得 |
| POST | /api/standings/recalculate/{id} | 再計算 |
| GET | /api/standings/scorers | 得点ランキング |

### 6.7 レポート API

| メソッド | パス | 説明 |
|---------|------|------|
| GET | /api/reports/daily | 日次報告書 |
| GET | /api/reports/standings | 順位表PDF |
| GET | /api/reports/export/final-day-schedule | 最終日組み合わせ |
| GET | /api/reports/export/final-result | 最終結果 |
| GET | /api/reports/export/group-standings | グループ順位表 |

---

## 7. 非機能要件

### 7.1 性能要件

| 項目 | 要件 |
|-----|------|
| 画面遷移 | 1秒以内 |
| 順位計算 | 即時（入力完了と同時） |
| 報告書PDF生成 | 3秒以内 |
| Excel出力 | 5秒以内 |
| 同時接続数 | 50ユーザー以上 |
| 可用性 | 大会期間中99%以上 |

### 7.2 セキュリティ要件

| 項目 | 要件 |
|-----|------|
| 認証 | JWT トークン認証 |
| パスワード | bcrypt ハッシュ化 |
| HTTPS | 本番環境では必須 |
| CORS | 許可オリジンを限定 |

### 7.3 対応環境

**ブラウザ**

Chrome、Safari、Edge（最新2バージョン）

**モバイル対応**

- レスポンシブデザイン対応
- 最小幅: 375px（iPhone SE）
- タブレット・スマートフォンでの入力を想定

### 7.4 同時アクセス制御

- 複数会場から同時入力可能
- 同一試合への重複入力防止（悲観的ロック機能）
- WebSocketによるリアルタイム更新

### 7.5 テスト要件

#### 7.5.1 ユニットテスト

| 対象 | テスト内容 | ツール |
|-----|---------|-------|
| 順位計算ロジック | 勝点、得失点差、直接対決の計算精度 | pytest |
| 日程生成アルゴリズム | 除外ペア考慮、会場制約の検証 | pytest |
| スコア入力バリデーション | 入力値の整合性チェック | pytest |
| API エンドポイント | リクエスト/レスポンスの検証 | pytest + httpx |

#### 7.5.2 統合テスト

| テストケース | 説明 |
|------------|------|
| 大会フロー全体 | 大会作成→チーム登録→日程生成→結果入力→順位確定→PDF出力 |
| 同時アクセス | 複数ユーザーによる同時結果入力 |
| データ整合性 | トランザクション境界での整合性 |
| WebSocket | リアルタイム更新の動作確認 |

#### 7.5.3 E2Eテスト

| シナリオ | 説明 | ツール |
|---------|------|-------|
| 管理者フロー | ログイン→各画面操作→ログアウト | Playwright |
| 会場担当者フロー | 担当会場の結果入力フロー | Playwright |
| 公開画面 | 順位表・試合結果の閲覧 | Playwright |
| モバイル | スマートフォンでの結果入力 | Playwright (mobile) |

#### 7.5.4 テストカバレッジ目標

| 種別 | 目標カバレッジ |
|-----|--------------|
| バックエンド（Python） | 80%以上 |
| フロントエンド（TypeScript） | 70%以上 |
| クリティカルパス | 100% |

#### 7.5.5 クリティカルパス（必須テスト）

以下のパスは100%のテストカバレッジを必須とする：

1. **順位計算**: 勝点計算、タイブレーク処理（得失点差→総得点→直接対決→抽選）
2. **日程生成**: 変則リーグの除外ペア反映、会場制約
3. **スコア入力**: 前半・後半・合計の自動計算、PK戦入力
4. **PDF出力**: 日次報告書、順位表、最終結果報告書

### 7.6 デプロイ要件

#### 7.6.1 インフラ構成

| 環境 | 構成 | 用途 |
|-----|------|-----|
| 開発環境 | ローカルPC（SQLite） | 開発・単体テスト |
| ステージング | VPS / クラウドVM | 統合テスト・受入テスト |
| 本番環境 | VPS / クラウドVM | 大会運用 |

#### 7.6.2 本番環境要件

| 項目 | 要件 |
|-----|------|
| OS | Ubuntu 22.04 LTS 以上 |
| CPU | 2コア以上 |
| メモリ | 4GB以上 |
| ストレージ | 20GB以上（SSD推奨） |
| ネットワーク | 固定IP、HTTPS対応 |

#### 7.6.3 デプロイ方式

```
┌─────────────────────────────────────────────────────┐
│                   リバースプロキシ                    │
│                    (nginx/Caddy)                    │
│                        :443                         │
└─────────────┬───────────────────────┬───────────────┘
              │                       │
              ▼                       ▼
┌─────────────────────┐   ┌─────────────────────────┐
│   フロントエンド     │   │      バックエンド        │
│   (静的ファイル)     │   │    (FastAPI + Uvicorn)   │
│       :80           │   │         :8000            │
└─────────────────────┘   └───────────┬─────────────┘
                                      │
                                      ▼
                          ┌─────────────────────────┐
                          │      SQLite DB          │
                          │   /var/data/urawa.db    │
                          └─────────────────────────┘
```

#### 7.6.4 バックアップ要件

| 項目 | 要件 |
|-----|------|
| バックアップ頻度 | 大会期間中は1時間ごと |
| 保持期間 | 1年間 |
| バックアップ方式 | SQLiteファイルコピー |
| 復旧目標時間（RTO） | 30分以内 |
| 復旧目標点（RPO） | 1時間以内 |

#### 7.6.5 監視要件

| 項目 | 内容 |
|-----|------|
| ヘルスチェック | /api/health エンドポイント（1分間隔） |
| アラート条件 | 5xx エラー発生、レスポンス5秒超過 |
| ログ保存 | アクセスログ、エラーログ（7日間） |

### 7.7 運用要件

#### 7.7.1 大会前準備

| 作業 | タイミング | 担当 |
|-----|----------|-----|
| 大会データ作成 | 大会2週間前 | 管理者 |
| チーム登録 | 大会1週間前 | 管理者 |
| 選手登録 | 大会3日前 | 管理者 |
| 日程生成・確認 | 大会2日前 | 管理者 |
| 会場担当者アカウント発行 | 大会1日前 | 管理者 |
| 動作確認 | 大会1日前 | 全員 |

#### 7.7.2 大会中運用

| 作業 | タイミング | 担当 |
|-----|----------|-----|
| 結果入力 | 試合終了後即時 | 会場担当者 |
| 結果承認 | 入力後30分以内 | 管理者 |
| 日次報告書配信 | 各日終了後 | 管理者 |
| 最終日組み合わせ確定 | Day2終了後 | 管理者 |

#### 7.7.3 障害対応

| 障害レベル | 対応 |
|----------|-----|
| 軽微（UI不具合等） | 記録して大会後対応 |
| 中程度（一部機能停止） | バックアップから復旧 |
| 重大（システム停止） | Excel運用に切り替え |

---

## 8. 実装フェーズ

### 8.1 Phase 1: MINI（信頼できる計算機）

**コンセプト**: 脱・Excel関数地獄。データの整合性を担保する。  
**ターゲット**: 本部担当者（1〜2名）

**機能要件**

- チーム・グループ管理: 24チームの登録とグループ分けの保持
- 試合結果入力（管理者のみ）: 固定された日程に対するスコア入力
- 順位表の完全自動計算: 勝点、得失点、総得点、対戦成績のロジック実装
- 基礎エクスポート: データ確認用のCSV/Excel出力

### 8.2 Phase 2: MIDDLE（業務効率化ツール）

**コンセプト**: 報告作業の自動化と、入力の分散化。  
**ターゲット**: 4〜5会場の会場責任者 + 本部

**機能要件**

- 公式帳票出力（PDF/Excel）: 提出先ごとの完全なフォーマットでの出力
- 分散入力対応: 各会場の担当者がスマホ/タブレットで入力
- 結果承認フロー: 会場入力 → 本部承認
- 日程調整アシスト: 対戦禁止カードのバリデーション
- 決勝Tマッチング: 予選順位に基づく自動配置（手動修正可）

### 8.3 Phase 3: MAX（大会プラットフォーム）

**コンセプト**: 選手・保護者・ファンへの価値提供と、システムとしての強靭化。  
**ターゲット**: 全参加者、保護者、ファン

**機能要件**

- パブリックビューイング: ログイン不要の閲覧専用サイト
- 詳細スタッツ: 「誰が、いつ決めたか」の記録、得点ランキング
- オフライン対応（PWA）: 電波の悪いグラウンドでも入力可能
- 大会アーカイブ: 年度を跨いでデータを蓄積・閲覧可能

### 8.4 現在の実装状況

| フェーズ | 完了率 | 完了項目 | 残項目 |
|---------|-------|---------|-------|
| Phase 1: MINI | 100% | 4/4 | 0 |
| Phase 2: MIDDLE | 100% | 5/5 | 0 |
| Phase 3: MAX | 95% | 3.5/4 | UI改善 |

---

## 9. 付録

- [9.1 用語集](#91-用語集)
- [9.2 統合元ドキュメント](#92-統合元ドキュメント)
- [9.3 実装課題（Open Tasks）](#93-実装課題open-tasks)
- [9.4 改訂履歴](#94-改訂履歴)

### 9.1 用語集

| 用語 | 説明 |
|-----|------|
| 予選リーグ | 4グループに分かれての総当たり戦（Day1-2） |
| 順位決定戦 | 各グループ1位による決勝トーナメント（Day3） |
| 研修試合 | 予選2〜6位チームによる練習試合（Day3） |
| 会場担当校 | 各グループの試合会場を提供する地元4校 |
| 得失点差 | 総得点 - 総失点（ゴールディファレンス） |
| 変則リーグ | 総当たりから一部対戦を除外したリーグ戦 |
| 除外ペア | 対戦しないチームの組み合わせ |

### 9.2 統合元ドキュメント

- requirement.md - 基本要件定義書
- RequirementSpecification.md - 詳細要件定義書
- Requirement_Phased.md - フェーズ別要件定義
- CurrentRequirements_WithSubmodules.md - 現行要件（サブモジュール含む）
- GapAnalysis_2026-01-03.md - ギャップ分析レポート
- FinalDay_Logic_Final.md - 最終日ロジック確定版
- FinalDay_Screen_Detailed_Spec.md - 最終日画面詳細仕様
- Schedule_FinalDay_Confirmed_Spec.md - 日程表示＆最終日確定仕様
- Report_PDF_Specification.md - PDF報告書仕様
- PlayerManagement_Module_Spec.md - 選手管理モジュール仕様
- Implementation_Diagrams.md - 実装状況図
- TournaMate_Design_v1.md - システム設計書
- TournaMate_Diagrams.md - ダイアグラム集
- TournaMate_Report_Formats_.md - 報告書フォーマット
- UrawaCup_Diagrams.md - UrawaCup図表

### 9.3 実装課題（Open Tasks）

以下は現在把握されている実装課題です：

| ID | タイトル | 優先度 | 対象箇所 |
|----|---------|-------|---------|
| TASK-003 | トーナメントID取得のコンテキスト化 | 1 | フロントエンド9箇所 |
| TASK-004 | 同順位時の抽選ロジック実装 | 2 | standing_service.py:144 |
| TASK-005 | 最終日日付の動的算出 | 2 | final_day_service.py:358 |
| TASK-006 | 複数グループ対応の決勝T生成 | 3 | final_day_service.py:157 |

#### TASK-003: トーナメントID取得のコンテキスト化

**問題**: フロントエンド9箇所で`tournamentId`がハードコードされている

**対象ファイル**:
- TeamManagement.tsx:33
- Standings.tsx:79
- Settings.tsx:27
- ExclusionSettings.tsx:18
- Dashboard.tsx:24
- PlayerManagement.tsx:19
- ScorerRanking.tsx:12
- Reports.tsx:46
- Layout.tsx:104

**解決策**: Context/Store（Zustand）から動的に取得するよう変更

#### TASK-004: 同順位時の抽選ロジック実装

**問題**: 順位表計算で同一ポイントの場合、最終手段としての抽選処理が未実装

**対象**: `standing_service.py:144`

**要件**: 2.5節「順位決定ルール」の5番目「抽選（ランダム）」を実装

#### TASK-005: 最終日日付の動的算出

**問題**: 最終日（Day3）の日付がハードコードされている可能性

**対象**: `final_day_service.py:358`

**解決策**: 大会期間設定（tournaments.start_date, end_date）から自動計算

#### TASK-006: 複数グループ対応の決勝T生成

**問題**: 現在は4グループ固定の決勝トーナメント生成のみ対応

**対象**: `final_day_service.py:157`

**解決策**: グループ数に応じた柔軟な決勝トーナメント生成ロジック

### 9.4 改訂履歴

| バージョン | 日付 | 変更内容 |
|-----------|------|---------|
| 1.0 | 2024-12-31 | 初版作成（requirement.md） |
| 2.0 | 2026-01-01 | 詳細要件追加（RequirementSpecification.md） |
| 3.0 | 2026-01-04 | 15件のドキュメントを統合した確定版 |
| 4.0 | 2026-01-05 | 完全版：全テーブル詳細、テスト/デプロイ/運用要件、UIワイヤーフレーム追加 |
| 4.1 | 2026-01-05 | 実装課題（TASK-003〜006）を追加 |

---

**作成者**: さいたま市サッカー協会
**統合対象**: 15件の仕様書
**ステータス**: 完成版（実装可能）
